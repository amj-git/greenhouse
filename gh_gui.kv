#<KvLang>

#:set menusize1 "30sp"

<ContPanel_gh>:
    do_scroll_x: False
    scroll_type: ['bars']
    container: cont_grid
    bar_width: '55dp'
    bar_pos_y: 'left'
    bar_color: [.7, .7, .7, .9]
    bar_inactive_color: [.7, .7, .7, .9]
    BoxLayout:
        id: cont_grid
        orientation: 'vertical'
        size_hint_y: None        
        padding: [dp(55),0,0,0]     #avoid the scrollbar
        height: self.minimum_height  

<gh_SettingsInterface>:
    orientation: 'horizontal'
    content: cont_panel
    menu: menu
    ContPanel_gh:
        id: cont_panel
        current_uid: menu.selected_uid
    gh_MenuSidebar:
        id: menu
        
<gh_MenuSidebar>:   
    buttons_layout: menu
    close_button: button
    size_hint: (0.3,1)
    GridLayout:
        pos: root.pos
        cols: 1
        id: menu
        orientation: 'vertical'
        padding: 0
        canvas.after:
            Color:
                rgb: .2, .2, .2
            Rectangle:
                pos: self.right - 1, self.y
                size: 1, self.height

    Button:
        text: 'Back'
        id: button
        size_hint: None, None
        width: root.width
        height: max(100, self.texture_size[1] + dp(20))
        pos: root.x , root.y
        font_size: '15sp'
     
<gh_SettingSidebarLabel>:
    size_hint: 1, None
    text_size: self.width - 32, None
    height: self.texture_size[1] + dp(60)
    font_size: '20sp'
    canvas.before:
        Color:
            rgba: 47 / 255., 167 / 255., 212 / 255., int(self.selected)
        Rectangle:
            pos: self.pos
            size: self.size

#See k_circulardatetimepicker.py
<TimeChooserPopup>:
    picker:picker
    content:content
    title: "Choose Time"
    title_size: menusize1
    size_hint: (0.65, 0.95)
    auto_dismiss:False
    BoxLayout:
        id:content
        orientation: "vertical"
        CircularTimePicker
            id:picker
            #selector_color: (0,0.9,1) 
            size_hint: 1.0, 0.85
        BoxLayout:            
            size_hint: 1.0, 0.15
            orientation: "horizontal"
            Button:
                text: "OK"
                #size_hint_y: None
                font_size: menusize1
                on_release: root.dispatch('on_ok')
            Button:
                text: "Cancel"
                #size_hint_y: None
                font_size: menusize1
                on_release: root.dispatch('on_cancel')
            
<HeaterScreen>:
    menu_root:menu_root
    non_menu_root:non_menu_root
    b1:b1
    b2:b2
    b3:b3
    b21:b21
    b99:b99
    BoxLayout:
        id: root_box
        orientation: 'horizontal'
        BoxLayout:
            id: non_menu_root
            Button:
                id:b21
                text:'Test Timepicker'
                font_size: menusize1
                on_release: root.test_timepicker()
        BoxLayout:
            id: menu_root
            orientation: 'vertical'
            size_hint: (0.3,1)        
            ToggleButton:
                id: b1
                text:'Heater\nOFF'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.heateroffclick()
                background_color: (0,0,0.8,1)
                background_down: 'shapes/but1.png'
                background_normal: 'shapes/but2.png'
            ToggleButton:
                id: b2
                text: 'Heater\nAUTO'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.heaterautoclick()
                background_color: (1,0.65,0,1)
                background_down: 'shapes/but1.png'
                background_normal: 'shapes/but2.png'
            ToggleButton:
                id: b3
                text:'Heater\nBOOST'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.heaterboostclick()
                background_color: (1,0,0,1)
                background_down: 'shapes/but1.png'
                background_normal: 'shapes/but2.png'
            Button:
                id: b99
                text:'Back'
                font_size: menusize1
                halign: 'center'
                on_release: root.page_jump1()
                
<LightingScreen>:
    menu_root:menu_root
    non_menu_root:non_menu_root
    b1:b1
    b2:b2
    b3:b3
    b99:b99
    BoxLayout:
        id: root_box
        orientation: 'horizontal'
        BoxLayout:
            id: non_menu_root
        BoxLayout:
            id: menu_root
            orientation: 'vertical'
            size_hint: (0.3,1)        
            ToggleButton:
                id: b1
                text:'Light\nOFF'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.heateroffclick()
                background_color: (0,0,0.8,1)
                background_down: 'shapes/but1.png'
                background_normal: 'shapes/but2.png'
            ToggleButton:
                id: b2
                text: 'Light\nAUTO'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.heaterautoclick()
                background_color: (1,0.65,0,1)
                background_down: 'shapes/but1.png'
                background_normal: 'shapes/but2.png'
            ToggleButton:
                id: b3
                text:'Light\nBOOST'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.heaterboostclick()
                background_color: (1,0,0,1)
                background_down: 'shapes/but1.png'
                background_normal: 'shapes/but2.png'
            Button:
                id: b99
                text:'Back'
                font_size: menusize1
                halign: 'center'
                on_release: root.page_jump1()                
                
<IOStatusScreen>:
    menu_root:menu_root
    non_menu_root:non_menu_root
    b1:b1
    b12:b12
    b13:b13
    b14:b14
    b15:b15
    b2:b2
    
    BoxLayout:
        id: root_box
        orientation: 'horizontal'
        BoxLayout:
            id: non_menu_root
        BoxLayout:
            id: menu_root
            orientation: 'vertical'
            size_hint: (0.3,1)        
            Button:
                id: b1
                text:'Graph...'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.page_jump1()
            Button:
                id: b12
                text:'Sprinkler...'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.page_jump2()
            Button:
                id: b13
                text:'Heater...'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.page_jump3()
            Button:
                id: b14
                text:'Lighting...'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.page_jump4()
            Button:
                id: b15
                text:'Settings...'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.page_jump5()
            Button:
                id: b2
                text:'Exit'
                state: 'normal'
                font_size: menusize1
                halign: 'center'
                on_release: root.confirm_quit()            

     
#</KvLang>
